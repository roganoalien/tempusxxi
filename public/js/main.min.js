"use strict";var LOGIN=function(){function n(e){e.addEventListener("click",function(){for(var e=document.querySelectorAll(".removeItem"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);!function(){var e=document.getElementById("appender"),n=document.createElement("div");n.className="wave",e.appendChild(n)}(),FB.login(function(e){console.log(e),"connected"===e.status&&t(e.authResponse.userID,e.authResponse.accessToken)},{scope:"public_profile,email,user_status,user_birthday,user_gender,user_location"})})}var t=function(e,n){FB.api("/".concat(e,"?fields=id,birthday,email,name,gender,location,picture.type(large)&access_token=").concat(n),function(e){console.log(e);var t=new XMLHttpRequest;t.open("POST","/users/facebook/save"),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onload=function(e){if(200===t.status){var n=JSON.parse(t.responseText);document.querySelector(".wave").classList.add("remove"),setTimeout(function(){window.location.href=n.url},500)}else{JSON.parse(t.responseText);window.location.href="/"}},console.log("se envía ajax"),t.send(encodeURI("avatar=".concat(e.picture.data.url,"&birthday=").concat(e.birthday,"&email=").concat(e.email,"&gender=").concat(e.gender,"&id=").concat(e.id,"&location=").concat(e.location.name,"&name=").concat(e.name,"&token=").concat(n)))})};return{isLogged:function(){alert("sesión iniciada")},loginListener:function(){var e=document.getElementById("login");e.disabled=!1,n(e)}}}();
//# sourceMappingURL=main.min.js.map
